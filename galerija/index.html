<!DOCTYPE HTML>
<html>
  <head>
    <title>Biedrība "Līdumnieki" | Aktualitātes</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="/assets/css/main.css" />
    <noscript><link rel="stylesheet" href="/assets/css/noscript.css" /></noscript>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" crossorigin="anonymous">
    <style>
      /* === Galerija ar lightbox === */
      .gal-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 15px;
        margin: 20px 0;
      }
      .gal-card {
        position: relative;
        overflow: hidden;
        border-radius: 10px;
        background: #111;
        cursor: pointer;
      }
      .gal-card img {
        width: 100%;
        height: auto;
        display: block;
        transition: transform .3s;
      }
      .gal-card:hover img {
        transform: scale(1.05);
      }
      .gal-card figcaption {
        position: absolute;
        bottom: 0; left: 0; right: 0;
        background: linear-gradient(to top, rgba(0,0,0,.6), rgba(0,0,0,0));
        color: #fff;
        padding: .5rem;
        font-size: .9rem;
      }

      /* Lightbox */
      .gal-lightbox {
        position: fixed;
        inset: 0;
        display: none;
        justify-content: center;
        align-items: center;
        background: rgba(0,0,0,.85);
        border: none;
        padding: 0;
        z-index: 9999;
      }
      .gal-lightbox[open] {
        display: flex;
      }
      .gal-img {
        max-width: 90%;
        max-height: 80%;
        border-radius: 10px;
        box-shadow: 0 0 20px #000;
      }
      .gal-close, .gal-prev, .gal-next {
        position: absolute;
        background: #0009;
        color: #fff;
        border: none;
        font-size: 2rem;
        padding: .5rem .75rem;
        border-radius: 50%;
        cursor: pointer;
      }
      .gal-close { top: 20px; right: 20px; font-size: 2.5rem; }
      .gal-prev { left: 20px; top: 50%; transform: translateY(-50%); }
      .gal-next { right: 20px; top: 50%; transform: translateY(-50%); }
      dialog::backdrop { background: rgba(0,0,0,0.85); }
    </style>
  </head>
  <body id="top" class="landing is-preload">

    <div id="page-wrapper">

      <!-- Header -->
      <header id="header" class="alt">
        <h1><a href="index.html">Līdumnieki</a></h1>
      </header>

      <!-- One -->
      <section id="one" class="wrapper style3">
        <section class="wrapper style3">
          <div class="inner">
            <header class="major">
              <h2>Galerija</h2>
            </header>

            <!-- Galerija -->
            <div class="gal-grid" id="gal">
              <figure class="gal-card">
                <img src="/images/img1.jpg" alt="Apraksts 1" data-full="/images/img1.jpg" />
                <figcaption>Nosaukums 1</figcaption>
              </figure>

              <figure class="gal-card">
                <img src="/images/img2.jpg" alt="Apraksts 2" data-full="/images/img2.jpg" />
                <figcaption>Nosaukums 2</figcaption>
              </figure>

              <figure class="gal-card">
                <img src="/images/img3.jpg" alt="Apraksts 3" data-full="/images/img3.jpg" />
                <figcaption>Nosaukums 3</figcaption>
              </figure>
            </div>
          </div>
        </section>
      </section>

      <!-- Lightbox dialogs -->
      <dialog class="gal-lightbox" id="gal-lightbox" aria-label="Lielais attēls">
        <button class="gal-close" aria-label="Aizvērt (Esc)">&times;</button>
        <button class="gal-prev" aria-label="Iepriekšējais">&#8249;</button>
        <img class="gal-img" alt="" />
        <button class="gal-next" aria-label="Nākamais">&#8250;</button>
      </dialog>

      <!-- Footer -->
      <footer id="footer">
        <ul class="icons">
          <li><a href="#" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li>
          <li><a href="#" class="icon solid fa-envelope"><span class="label">Email</span></a></li>
        </ul>
        <ul class="copyright">
          <li>&copy; Biedrība "Līdumnieki"</li><li>2025 </li>
        </ul>
      </footer>
    </div>

    <!-- Scripts -->
    <script src="/assets/js/jquery.min.js"></script>
    <script src="/assets/js/jquery.scrollex.min.js"></script>
    <script src="/assets/js/jquery.scrolly.min.js"></script>
    <script src="/assets/js/browser.min.js"></script>
    <script src="/assets/js/breakpoints.min.js"></script>
    <script src="/assets/js/util.js"></script>
    <script src="/assets/js/main.js"></script>

    <!-- Lightbox script -->
    <script>
    document.addEventListener("DOMContentLoaded", function () {
      console.log("Lightbox skripts ielādēts!"); // DEBUG

      const items = [...document.querySelectorAll('#gal .gal-card img')];
      const dlg = document.getElementById('gal-lightbox');
      const img = dlg.querySelector('.gal-img');
      const btnClose = dlg.querySelector('.gal-close');
      const btnPrev = dlg.querySelector('.gal-prev');
      const btnNext = dlg.querySelector('.gal-next');
      let index = 0;

      function openAt(i) {
        index = i;
        const src = items[i].dataset.full || items[i].src;
        const alt = items[i].alt || '';
        img.src = src;
        img.alt = alt;
        dlg.showModal();
      }

      function closeBox() { dlg.close(); img.removeAttribute('src'); }
      function prev() { openAt((index - 1 + items.length) % items.length); }
      function next() { openAt((index + 1) % items.length); }

      items.forEach((el, i) => {
        el.addEventListener('click', () => openAt(i));
      });

      btnClose.addEventListener('click', closeBox);
      btnPrev.addEventListener('click', prev);
      btnNext.addEventListener('click', next);
      dlg.addEventListener('click', (e) => { if (e.target === dlg) closeBox(); });

      document.addEventListener('keydown', (e) => {
        if (!dlg.open) return;
        if (e.key === 'Escape') closeBox();
        if (e.key === 'ArrowLeft') prev();
        if (e.key === 'ArrowRight') next();
      });
    });
    </script>
  </body>
</html>
